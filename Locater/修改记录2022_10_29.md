# 定位板程序修改记录

Robocon lynn 2022.10.29

## 添加loction
添加loction将与定位直接相关的数据与结构体整理到该部分内
使用结构体与配套的函数进行数据的读写、计算、发送
精简运算部分代码
修改了对角度归一化的函数，提高可靠性

## 修改xv7011部分代码
精简读写相关的API
将SPI初始化与vx7011合并
## 修改编码器部分代码
将与编码器无关的所有宏定义及变量移出
将定时器中断相关代码使用宏进行控制是否开启
## 修改滤波器部分代码
只保留了滑动窗口滤波器
修改了滑动窗口滤波器的结构体以便优化运算
优化滑动窗口滤波器的计算过程
增加了滑动窗口滤波器结构体的初始化代码
## 修改定时器部分代码
将无关的变量、宏统统移除
优化计时结构
优化偏移量初始化控制
## 修改main.c
将未使用、注释掉的变量、代码删除
将全局变量移至相关代码中
将角度变换相关的代码移出 并优化
## 修改串口部分代码
将无关的变量删去
将对printf复用的部分修改为USARTprintf函数